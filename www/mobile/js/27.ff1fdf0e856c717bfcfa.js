webpackJsonp([27],{LTD1:function(t,a){},Mv7b:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("P9l9"),n=e("ymRw"),o={data:function(){return{payType:"",accountInfo:this.$t("account.name")+"\n"+this.$t("account.bank")+"\n"+this.$t("account.bankBranch")+"\n"+this.$t("account.bankNumber"),uploadFile:"",isOrderShow:!1,fileTmp:"",isApp:!1,MAX_SIZE:2097152}},computed:{},created:function(){this.isApp=localStorage.getItem("isApp")||"",console.log(this.isApp),this.payType=this.$route.params.payType,this._getTradeList()},destroyed:function(){},methods:{onClickLeft:function(){this.$router.push("/account/tradeConfig")},_getTradeList:function(){var t=this;if(!this.payType)return this.$toast.fail(this.$t("account.getTradeWayFail")),void this.$router.push("/account/tradeConfig");Object(i.g)({payType:this.payType}).then(function(a){if(0==a.code){var e=a.data;t.uploadFile=e.uploadfile,t.isOrderShow=e.isOrderShow,e.accountInfo&&(t.accountInfo=e.accountInfo)}})},submit:function(){var t=this,a=new FormData;this.fileTmp&&(this.isApp?a.append("uploadfile",this.fileTmp):a.append("uploadfile",this.fileTmp.file)),this.accountInfo&&a.append("accountInfo",this.accountInfo),a.append("isOrderShow",this.isOrderShow),a.append("payType",this.payType);Object(i.j)(a,{"Content-Type":"multipart/form-data"}).then(function(a){0==a.code&&(t.$toast.success(t.$t("account.SetUpSuccess")),t.$router.push("/account/tradeConfig"))})},setOptions:function(t){return{quality:50,destinationType:Camera.DestinationType.DATA_URL,sourceType:t,mediaType:Camera.MediaType.PICTURE}},upload:function(){var t=this,a=Camera.PictureSourceType.SAVEDPHOTOALBUM,e=this.setOptions(a);navigator.camera.getPicture(function(a){var e="data:image/jpeg;base64,"+a,i=function(t){for(var a=window.atob(t.split(",")[1]),e=new ArrayBuffer(a.length),i=new Uint8Array(e),n=0;n<a.length;n++)i[n]=a.charCodeAt(n);return new Blob([e],{type:"image/png"})}(e);i.size/1024/1024<2?(t.uploadFile=e,t.fileTmp=i):t.$toast.fail(this.$t("account.lessThan2M"))},function(){console.log("fail"),t.$toast.fail(this.$t("account.getPictureFail"))},e)},onRead:function(t){var a=this;if(t){this.fileTmp=t;var e=new FileReader;e.readAsDataURL(t.file),e.onload=function(t){a.uploadFile=t.target.result}}},overSize:function(){this.$toast.fail(this.$t("account.lessThan2M"))},preview:function(){Object(n.ImagePreview)([this.uploadFile])}}},c={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"register"},[e("g-head",[e("van-nav-bar",{attrs:{title:t.$t("account.editPayWay"),"left-arrow":""},on:{"click-left":t.onClickLeft}})],1),t._v(" "),e("van-field",{attrs:{center:"",type:"textarea",autosize:"",label:t.$t("account.accountInfo")},model:{value:t.accountInfo,callback:function(a){t.accountInfo=a},expression:"accountInfo"}}),t._v(" "),e("van-cell",{staticClass:"photo-box",attrs:{title:t.$t("account.uploadQrCcode")}},[t.isApp?e("van-button",{staticClass:"photo",attrs:{type:"primary",size:"mini"},on:{click:t.upload}},[t._v(t._s(t.$t("account.clickUpload")))]):e("van-uploader",{staticClass:"uploader",attrs:{"after-read":t.onRead,"max-size":t.MAX_SIZE},on:{oversize:t.overSize}},[e("van-button",{staticClass:"photo",attrs:{type:"primary",size:"mini"},on:{click:t.onRead}},[t._v(t._s(t.$t("account.clickUpload")))])],1)],1),t._v(" "),t.uploadFile?e("div",{staticClass:"img-box",on:{click:t.preview}},[e("img",{attrs:{src:t.uploadFile,alt:""}})]):t._e(),t._v(" "),e("van-cell",[e("van-checkbox",{model:{value:t.isOrderShow,callback:function(a){t.isOrderShow=a},expression:"isOrderShow"}},[t._v(t._s(t.$t("account.showInOrder")))])],1),t._v(" "),e("van-cell",[e("van-button",{staticClass:"button",attrs:{type:"primary",size:"normal"},on:{click:t.submit}},[t._v(t._s(t.$t("account.submit")))])],1)],1)},staticRenderFns:[]};var s=e("VU/8")(o,c,!1,function(t){e("LTD1")},"data-v-5cfdc2c5",null);a.default=s.exports}});