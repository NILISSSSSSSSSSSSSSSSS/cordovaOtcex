webpackJsonp([7],{"3eC3":function(t,e){},"6pGV":function(t,e){},NCu2:function(t,e){},"OX+F":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Dd8w"),s=i.n(a),n=i("NYxO"),r=i("woOf"),o=i.n(r),c=i("//Fk"),l=i.n(c),d=i("8Klu");var u={props:{refresh:{type:Number,default:0}},data:function(){return{loading:!1,totalList:[],page:1,pageSize:5,totalCount:0,isRefresh:!1,refreshEnd:!0}},computed:s()({},Object(n.b)(["getOrderSearch"]),{finished:function(){return this.page*this.pageSize>=this.totalCount},noData:function(){return!this.loading&&0===this.totalList.length}}),watch:{getOrderSearch:{handler:function(t){this.page=1,this.totalList=[],this.loading?this.refreshEnd=!1:this._getOrderList()},deep:!0,immediate:!0},refresh:function(t){var e=this;this.isRefresh=!0,this.page=1,this.totalList=[],this._getOrderList().then(function(){e.isRefresh=!1,e.$emit("refreshEnd")})},loading:function(t){var e=this;this.$emit("loadingChange",t),t||this.refreshEnd||(this.page=1,this.totalList=[],this._getOrderList().then(function(){e.refreshEnd=!0}))}},created:function(){},methods:{_getOrderList:function(){var t,e=this;return this.isRefresh||(this.loading=!0),void 0!==document.getElementsByClassName("van-list__loading-text")[0]&&(document.getElementsByClassName("van-list__loading-text")[0].innerText=""),(t=o()({},this.getOrderSearch,{page:this.page}),d.a.get("/order/mine",{params:t}).then(function(t){return l.a.resolve(t.data)})).then(function(t){if(e.loading=!1,0===t.code)return 1===e.page&&(e.totalList=t.data.orders),e.totalCount=t.data.orderCount,t.data.orders}).catch(function(t){e.loading=!1})},loadList:function(){var t=this;this.finished||this.isRefresh||(this.page+=1,this._getOrderList().then(function(e){e&&(t.totalList=t.totalList.concat(e))}))},handleSkip:function(t){this.$store.commit("setFooterActive",0),this.$router.push("/trade/trading/"+t)}}},h={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-list"},[i("van-list",{attrs:{finished:t.finished,offset:10},on:{load:t.loadList},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.totalList,function(e,a){return i("van-cell",{key:a},[[i("div",{staticClass:"order",on:{click:function(i){t.handleSkip(e.orderCode)}}},[i("div",{staticClass:"main"},[i("div",{staticClass:"name"},[i("span",[t._v(t._s(e.otherUserName))]),t._v(" "),i("span",{staticClass:"trade"},[t._v("\n                "+t._s("buy"===e.orderType?t.$t("common.gouMai"):t.$t("common.maiChu"))+t._s(e.currency)+"\n              ")])]),t._v(" "),i("div",{staticClass:"id"},[t._v("\n              "+t._s(t.$t("common.bianHao"))+"："+t._s(e.orderCode)+"\n            ")]),t._v(" "),i("div",{staticClass:"time"},[t._v("\n               "+t._s(t.$t("common.time"))+"："+t._s(t.$timeFormat(e.createTime))+"\n            ")]),t._v(" "),i("div",{staticClass:"price"},[t._v("\n             "+t._s(t.$t("common.danJia"))+"："+t._s(e.unitPrice.toFixed(6))+" "+t._s(e.fiatCurrency)+"\n            ")]),t._v(" "),i("div",{staticClass:"number"},[t._v("\n             "+t._s(t.$t("common.shuLiang"))+"："+t._s(e.amount.toFixed(6))+"\n            ")])]),t._v(" "),i("div",{staticClass:"status"},[i("div",{staticClass:"d1"},[t._v(" "+t._s(t.$t("status['"+e.orderStatus+"']"))+" ")]),t._v(" "),i("div",{staticClass:"d2"},[t._v("\n              "+t._s(e.fiatCurrencyAmount.toFixed(6))+"\n              "+t._s(e.fiatCurrency)+"\n            ")])])])]],2)})),t._v(" "),t.noData?i("no-data"):t._e()],1)},staticRenderFns:[]};var g=i("VU/8")(u,h,!1,function(t){i("3eC3")},"data-v-6ecb4160",null).exports,v={data:function(){return{statusList:[],refresh:0,isLoading:!1,loading:!1}},computed:s()({},Object(n.b)(["getOrderSearch"]),{activeStatus:function(){return"waitPay"===this.getOrderSearch.orderStatus?0:"waitCoin"===this.getOrderSearch.orderStatus?1:"normal_success"===this.getOrderSearch.orderStatus?2:"cancel"===this.getOrderSearch.orderStatus?3:"expire"===this.getOrderSearch.orderStatus?4:"commit"===this.getOrderSearch.orderStatus?5:"appeal_success"===this.getOrderSearch.orderStatus?6:"appeal_fail"===this.getOrderSearch.orderStatus?7:1},select:function(){return"buy"===this.getOrderSearch.orderType?2:"sell"===this.getOrderSearch.orderType?3:1}}),created:function(){this.init()},mounted:function(){},methods:{init:function(){this.statusList=[{value:"waitPay",label:this.$t("common.dengDaiFangKuan")},{value:"waitCoin",label:this.$t("common.dengDaiFangBi")},{value:"normal_success",label:this.$t("common.jiaoYiWanCheng")},{value:"cancel",label:this.$t("common.yiQuXiao")},{value:"expire",label:this.$t("common.yiGuoQi")},{value:"commit",label:this.$t("common.senShuZhong")},{value:"appeal_success",label:this.$t("common.shenShuChengGong")},{value:"appeal_fail",label:this.$t("common.shenShuFail")}],this.getOrderSearch.orderStatus||this.cutStatus(1)},cutType:function(t){var e="";2===t&&(e="buy"),3===t&&(e="sell"),this.$store.commit("setOrderSearch",{orderType:e})},cutStatus:function(){var t="";0===(arguments.length<=0?void 0:arguments[0])&&(t="waitPay"),1===(arguments.length<=0?void 0:arguments[0])&&(t="waitCoin"),2===(arguments.length<=0?void 0:arguments[0])&&(t="normal_success"),3===(arguments.length<=0?void 0:arguments[0])&&(t="cancel"),4===(arguments.length<=0?void 0:arguments[0])&&(t="expire"),5===(arguments.length<=0?void 0:arguments[0])&&(t="commit"),6===(arguments.length<=0?void 0:arguments[0])&&(t="appeal_success"),7===(arguments.length<=0?void 0:arguments[0])&&(t="appeal_fail"),this.$store.commit("setOrderSearch",{orderStatus:t})},onRefresh:function(){this.refresh+=1},refreshEnd:function(){this.$toast(this.$t("common.shuaXinSuccess")),this.isLoading=!1},loadingChange:function(t){this.loading=t},onClickLeft:function(){this.$router.push("/account")}},components:{OrderList:g}},f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"orders"},[i("g-head",{staticClass:"g-head"},[i("van-nav-bar",{attrs:{"left-arrow":""},on:{"click-left":t.onClickLeft}},[i("div",{staticClass:"cut",attrs:{slot:"title"},slot:"title"},[i("div",{staticClass:"one",class:{active:1===t.select},on:{click:function(e){t.cutType(1)}}},[t._v(" "+t._s(t.$t("order.all")))]),t._v(" "),i("div",{staticClass:"two",class:{active:2===t.select},on:{click:function(e){t.cutType(2)}}},[t._v(" "+t._s(t.$t("order.maiDan")))]),t._v(" "),i("div",{staticClass:"three",class:{active:3===t.select},on:{click:function(e){t.cutType(3)}}},[t._v(" "+t._s(t.$t("order.maiDan2")))])])])],1),t._v(" "),i("div",{staticClass:"status"},[i("van-tabs",{attrs:{active:t.activeStatus},on:{click:t.cutStatus}},t._l(t.statusList,function(t,e){return i("van-tab",{key:e,attrs:{title:t.label}})}))],1),t._v(" "),i("van-pull-refresh",{attrs:{"loosing-text":t.$t("loading.siFangJikeShuaXin"),"loading-text":t.$t("loading.jiaZaiZhong"),"pulling-text":t.$t("loading.xiaLaJiKeShuaXin")},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[i("order-list",{attrs:{refresh:t.refresh},on:{refreshEnd:t.refreshEnd,loadingChange:t.loadingChange}})],1),t._v(" "),t.loading?i("my-loading"):t._e()],1)},staticRenderFns:[]};var m=i("VU/8")(v,f,!1,function(t){i("Qnyw"),i("NCu2"),i("6pGV")},"data-v-36130db8",null);e.default=m.exports},Qnyw:function(t,e){}});