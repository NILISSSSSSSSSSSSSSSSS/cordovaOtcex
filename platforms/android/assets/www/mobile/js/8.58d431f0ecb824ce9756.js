webpackJsonp([8],{"2izS":function(t,e){},NQ6L:function(t,e){},cSbh:function(t,e){},r6Wo:function(t,e){},xR87:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("1zv/"),n={props:{detail:{type:Object,default:function(){return{}}}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-info"},[t.detail.tradeType?a("div",{staticClass:"info"},[a("div",{staticClass:"head"},[a("div",{staticClass:"avatar"},[t.detail.owner.avatar?a("img",{attrs:{src:t.detail.owner.avatar}}):a("img",{attrs:{src:i("pBnh")}})]),t._v(" "),a("div",{staticClass:"information"},[a("div",{staticClass:"name"},[a("span",[t._v(t._s(t.detail.owner.name))]),t._v(" "),t._l(t.detail.allowPay,function(t){return a("img",{key:t,attrs:{src:i("Rjej")("./payment_"+t+".png")}})})],2),t._v(" "),a("div",{staticClass:"limit"},[t._v("\n          "+t._s(t.$t("common.xianE"))+":\n          "),t.detail.orderCeilPrice>=t.detail.orderFloorPrice?a("span",[t._v("\n            "+t._s(t.detail.orderFloorPrice.toFixed(2))+"-"+t._s(t.detail.orderCeilPrice.toFixed(2))+"\n            "+t._s("buy"===t.detail.tradeType?t.detail.currency:t.detail.fiatCurrency)+"\n          ")]):a("span",[t._v(" "+t._s(t.$t("common.yiShouWan")))])])]),t._v(" "),t.detail.floatPrice?a("div",{staticClass:"price"},[t._v("\n        "+t._s(t.detail.floatPrice.toFixed(6))+t._s(t.detail.fiatCurrency)+"\n      ")]):t._e()]),t._v(" "),a("div",{staticClass:"body"},[a("div",{staticClass:"item"},[a("div",{staticClass:"t"},[t._v(t._s(t.detail.tradeCount))]),t._v(" "),a("div",{staticClass:"b"},[t._v(t._s(t.$t("common.jiaoYiCiShu")))])]),t._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"t"},[t._v(t._s((100*t.detail.owner.positiveRate).toFixed(2)+"%"))]),t._v(" "),a("div",{staticClass:"b"},[t._v(t._s(t.$t("common.haoPing")))])])])]):t._e(),t._v(" "),a("div",{staticClass:"remark"},[t._v("\n\n    "+t._s(t.detail.autoReplyBefore)+"\n  ")])])},staticRenderFns:[]};var s=i("VU/8")(n,r,!1,function(t){i("r6Wo")},"data-v-65f1f4c2",null).exports,c={props:{detail:{type:Object,default:function(){return{}}},adverId:{type:String,default:""}},data:function(){return{payType:"",currency:0,fiatCurrency:0,convertTo:"",isCommit:!0,isUSDT:!1,usdt:0}},computed:{trade:function(){return"buy"===this.detail.tradeType?this.$t("common.maiChu"):this.$t("common.gouMai")},disabled:function(){return!(this.currency&&(this.fiatCurrency||this.usdt)&&(this.payType||this.isUSDT)&&this.isCommit)},submitText:function(){return"buy"===this.detail.tradeType?this.$t("common.liJiMaiChu"):this.$t("common.liJiMaiRu")},id:function(){return this.detail._id},convertAmount:function(){return"currency"===this.convertTo&&this.isUSDT?this.usdt:"currency"!==this.convertTo||this.isUSDT?"fiatCurrency"===this.convertTo?this.currency:"":this.fiatCurrency},textUSDT:function(){return"buy"===this.detail.tradeType?this.$t("common.ask2"):this.$t("common.ask3")},showUSDT:function(){return this.detail.isUSDT}},watch:{isUSDT:function(t){this.fiatCurrency=0,this.currency=0,this.usdt=0}},methods:{_convert:function(t,e){var i=this;Object(a.c)({id:this.id,amount:t,convertTo:e}).then(function(t){0===t.code&&("currency"===e?i.currency=i.isUSDT?t.data.usdtAmount.toFixed(8):t.data.convertVal.toFixed(8):"fiatCurrency"===e&&(i.isUSDT?i.usdt=t.data.usdtAmount.toFixed(2):i.fiatCurrency=t.data.convertVal.toFixed(2)))})},handleFiatCurrency:function(){var t=this;this.timmer&&clearTimeout(this.timmer),this.timmer=setTimeout(function(){if(t.fiatCurrency||t.usdt){t.convertTo="currency";var e=t.isUSDT?t.usdt:t.fiatCurrency;t._convert(e,"currency")}},300)},handleCurrency:function(){var t=this;this.timmer&&clearTimeout(this.timmer),this.timmer=setTimeout(function(){t.currency&&(t.convertTo="fiatCurrency",t._convert(t.currency,"fiatCurrency"))},300)},_createTrade:function(){var t=this;return this.isCommit=!1,Object(a.d)({advertiseId:this.adverId,payType:this.payType,convertTo:this.convertTo,convertAmount:this.convertAmount,usdt:this.isUSDT}).then(function(e){if(t.isCommit=!0,0===e.code)return e.data.orderCode}).catch(function(e){t.isCommit=!0})},handleCreate:function(){var t=this;this._createTrade().then(function(e){e&&t.$router.push("/trade/trading/"+e)})}}},o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.detail.tradeType?i("div",{staticClass:"trade-input"},[t.showUSDT?i("div",{staticClass:"box d2"},[i("div",{staticClass:"allow-pay"},[i("van-cell-group",[i("van-cell",{attrs:{title:t.textUSDT}},[i("van-checkbox",{model:{value:t.isUSDT,callback:function(e){t.isUSDT=e},expression:"isUSDT"}})],1)],1)],1)]):t._e(),t._v(" "),i("h3",[t._v(t._s(t.$t("common.ask",{msg:t.trade})))]),t._v(" "),i("div",{staticClass:"limit"},[t._v("\n    "+t._s(t.$t("common.xianE"))+":\n    "),t.detail.orderCeilPrice>=t.detail.orderFloorPrice?i("span",[t._v("\n    "+t._s(t.detail.orderFloorPrice.toFixed(2))+" - "+t._s(t.detail.orderCeilPrice.toFixed(2))+"\n    "+t._s("buy"===t.detail.tradeType?t.detail.currency:t.detail.fiatCurrency)+"\n    ")]):i("span",[t._v(t._s(t.$t("common.yiShouWan")))])]),t._v(" "),i("div",{staticClass:"input"},[i("van-cell-group",[t.isUSDT?t._e():i("van-field",{attrs:{type:"number",label:t.detail.fiatCurrency,placeholder:t.$t("common.buyMoney")},on:{input:t.handleFiatCurrency},model:{value:t.fiatCurrency,callback:function(e){t.fiatCurrency=e},expression:"fiatCurrency"}}),t._v(" "),t.isUSDT?i("van-field",{attrs:{type:"number",label:"USDT",placeholder:t.$t("common.buyMoney")},on:{input:t.handleFiatCurrency},model:{value:t.usdt,callback:function(e){t.usdt=e},expression:"usdt"}}):t._e(),t._v(" "),i("van-field",{attrs:{type:"number",label:t.detail.currency,placeholder:t.$t("common.buyAmount")},on:{input:t.handleCurrency},model:{value:t.currency,callback:function(e){t.currency=e},expression:"currency"}})],1),t._v(" "),t.isUSDT?t._e():i("div",{staticClass:"radio"},t._l(t.detail.allowPay,function(e,a){return i("van-radio",{key:a,attrs:{name:e},model:{value:t.payType,callback:function(e){t.payType=e},expression:"payType"}},[t._v(t._s(t._f("payTypeFilter")(e)))])}))],1),t._v(" "),i("div",{staticClass:"submit"},[i("van-button",{attrs:{type:"primary",disabled:t.disabled},on:{click:t.handleCreate}},[t._v(t._s(t.submitText))])],1)]):t._e()},staticRenderFns:[]};var d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"remind"},[i("p",{staticClass:"p1"},[t._v(t._s(t.$t("adform.detail.notice1")))]),t._v(" "),i("p",{staticClass:"p"},[t._v(t._s(t.$t("adform.detail.notice2")))]),t._v(" "),i("p",{staticClass:"p"},[t._v(t._s(t.$t("adform.detail.notice3")))]),t._v(" "),i("p",{staticClass:"p"},[t._v(t._s(t.$t("adform.detail.notice4")))])])},staticRenderFns:[]};var u={data:function(){return{detail:{},loading:!1,id:""}},computed:{title:function(){return this.detail.tradeType?""+("buy"===this.detail.tradeType?this.$t("common.chushou"):this.$t("common.gouMai"))+this.detail.currency:""}},created:function(){this._getAdvertsDetails()},methods:{onClickLeft:function(){this.$router.push("/trade")},_getAdvertsDetails:function(){var t=this;this.id=this.$route.params.id,this.id?(this.loading=!0,Object(a.h)(this.id).then(function(e){t.loading=!1,0===e.code&&(t.detail=e.data,t.$store.commit("setShowFooter",0))}).catch(function(e){t.loading=!1})):this.$router.push("/trade")}},components:{UserInfo:s,TradeInput:i("VU/8")(c,o,!1,function(t){i("cSbh")},"data-v-7d59e3ba",null).exports,Remind:i("VU/8")({},d,!1,function(t){i("NQ6L")},"data-v-17c97cc5",null).exports}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"offers"},[i("g-head",[i("van-nav-bar",{attrs:{title:t.title,"left-arrow":""},on:{"click-left":t.onClickLeft}})],1),t._v(" "),t.detail.tradeType?i("div",[i("user-info",{attrs:{detail:t.detail}}),t._v(" "),i("trade-input",{staticClass:"trade-input",attrs:{detail:t.detail,adverId:t.id}}),t._v(" "),i("remind")],1):t._e(),t._v(" "),t.loading?i("my-loading"):t._e()],1)},staticRenderFns:[]};var v=i("VU/8")(u,l,!1,function(t){i("2izS")},"data-v-0a5b0c2b",null);e.default=v.exports}});