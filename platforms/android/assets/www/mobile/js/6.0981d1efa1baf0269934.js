webpackJsonp([6],{GhrP:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("//Fk"),n=e.n(s),i=e("8Klu");var o={props:{hide:{type:Boolean,default:!1},hideAll:Boolean},data:function(){return{totalList:[],showList:[],loading:!1}},watch:{hide:function(t){this.hideAll||(this.showList=t?this.totalList.filter(function(t){return t.totalAmount>0}):this.totalList)},hideAll:{handler:function(t){t?this.showList=[]:this.hide?this.showList=this.totalList.filter(function(t){return t.totalAmount>0}):this.showList=this.totalList},immediate:!0}},created:function(){this._getWalletsList()},methods:{_getWalletsList:function(){var t=this;this.loading=!0,i.a.get("/account/wallets").then(function(t){return n.a.resolve(t.data)}).then(function(a){if(t.loading=!1,0===a.code){if(t.totalList=a.data.currencyList,!t.hideAll&&t.hide)return void(t.showList=t.totalList.filter(function(t){return t.totalAmount>0}));if(!t.hideAll&&!t.hide)return void(t.showList=t.totalList)}}).catch(function(a){t.loading=!1})},_applyaddress:function(t){var a=this;this.loading=!0,function(t){return i.a.post("/account/applyaddress",{currency:t}).then(function(t){return n.a.resolve(t.data)})}(t).then(function(t){a.loading=!1,0===t.code&&(a.$toast(a.$t("wallets.senQingChengGong")),a._getWalletsList())}).catch(function(t){a.loading=!1})},onCopy:function(){this.$toast(this.$t("wallets.copySuccess"))},onError:function(){}}},l={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wallet-list"},[t.showList.length>0?e("van-list",{attrs:{finished:!0},model:{value:t.loading,callback:function(a){t.loading=a},expression:"loading"}},t._l(t.showList,function(a,s){return e("van-cell",{key:s,staticClass:"van-cell-border"},[[e("div",{staticClass:"item"},[e("div",{staticClass:"currency"},[t._v("\n            "+t._s(a.currency)+"\n          ")]),t._v(" "),e("span",{staticClass:"divide"},[t._v("|")]),t._v(" "),e("div",{staticClass:"amount"},[e("div",{staticClass:"t"},[t._v("\n            "+t._s(t.$t("wallets.zangHuYuE"))+"："+t._s(a.totalAmount.toFixed(6))+"\n            ")]),t._v(" "),e("div",{staticClass:"b"},[e("div",[t._v(t._s(t.$t("wallets.xiaDanDongJie"))+"："+t._s(a.orderFreeze.toFixed(6)))]),t._v(" "),e("div",[t._v(t._s(t.$t("wallets.suoCang"))+"："+t._s(a.lockAmount.toFixed(6)))])])])]),t._v(" "),t._l(a.address,function(a,s){return e("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:a.address,expression:"subItem.address",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.onCopy,expression:"onCopy",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.onError,expression:"onError",arg:"error"}],key:s,staticClass:"van-item-address"},[a.address?e("span",{staticClass:"addressRow"},[e("span",{staticClass:"address_name"}),t._v(t._s(a.address)+" "),e("span",{staticClass:"clickCopy_span"},[t._v(t._s(t.$t("wallets.clickCopyAddress",{msg:a.baseChain})))])]):t._e()])}),t._v(" "),0==a.address.length?e("van-button",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t._applyaddress(a.currency)}}},[t._v(t._s(t.$t("wallets.senQingDiZhi")))]):t._e()]],2)})):t._e(),t._v(" "),t.loading?e("my-loading"):t._e()],1)},staticRenderFns:[]};var r=e("VU/8")(o,l,!1,function(t){e("eFKy")},"data-v-1c336908",null).exports,c=e("ZhPz"),u={data:function(){return{amount:0,currency:"",qhAddress:"",isCreateQh:!1,usdtYeE:0,base:"",transType:!0}},created:function(){this._getBase()},computed:{transNumber:function(){return 0===this.amount?0:this.transType?(this.amount*this.base.rate).toFixed(6):(this.amount/this.base.rate).toFixed(6)}},methods:{_getBase:function(){var t=this;Object(c.a)().then(function(a){0===a.code&&(t.base=a.data,t.currency=a.data.currency,t.qhAddress=a.data.qhAddress,t.isCreateQh=a.data.isCreateQh,t.usdtYeE=a.data.fromAmount.toFixed(6))})},_transfer:function(){var t=this;this.amount<=0?this.$toast.fail(this.$t("wallets.zhuanRuDayu0")):this.amount>this.usdtYeE?this.$toast.fail(this.$t("wallets.zhuanRuDayuE")):Object(c.c)({amount:+this.amount}).then(function(a){0===a.code&&(t.$toast.fail(t.$t("wallets.zhuanChangNeiSuccess")),t.amount=0,t._getBase())})},onChangeTransfer:function(){var t=this,a=this.amount.split(".")[1];(a?a.length:0)>2&&setTimeout(function(){t.amount=Number(t.amount).toFixed(2)},20)}}},d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wallet-futures"},[e("div",{staticClass:"box"},[e("span",{staticClass:"text-pay"},[t._v("\n      "+t._s(t.base.fromCurrency)+" "+t._s(t.$t("wallets.yuE"))+": "+t._s(t.usdtYeE)+"\n    ")]),t._v(" "),e("van-cell-group",{staticClass:"over-percent"},[e("van-field",{attrs:{label:t.$t("wallets.importAmount"),type:"number",placeholder:t.$t("wallets.importAmount")},on:{input:t.onChangeTransfer},model:{value:t.amount,callback:function(a){t.amount=a},expression:"amount"}}),t._v(" "),e("van-field",{staticStyle:{"background-color":"#eee"},attrs:{label:t.$t("wallets.innerAmount"),disabled:""},model:{value:t.transNumber,callback:function(a){t.transNumber=a},expression:"transNumber"}})],1),t._v(" "),e("div",{staticClass:"submit"},[e("van-button",{attrs:{type:"primary",disabled:!t.isCreateQh},on:{click:t._transfer}},[t._v(" "+t._s(t.$t("wallets.zhuanRuChangNei")))])],1)],1)])},staticRenderFns:[]};var h={data:function(){return{hide:!0,hideAll:!1,isCreateQh:!1}},mounted:function(){this.$store.commit("setFooterActive","wallet"),this._getBase()},created:function(){this.$store.commit("setShowFooter",1)},methods:{onClickRight:function(){this.$router.push("/wallets/payment")},_getBase:function(){var t=this;Object(c.a)().then(function(a){0===a.code&&(t.isCreateQh=a.data.isCreateQh,console.log(t.isCreateQh))})}},components:{WalletList:r,WalletFutures:e("VU/8")(u,d,!1,function(t){e("Mxwo"),e("njCW")},"data-v-4cf2f20c",null).exports}},v={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wallets"},[e("g-head",[e("van-nav-bar",{attrs:{title:t.$t("wallets.ziChan"),"right-text":t.$t("wallets.fuKuan")},on:{"click-right":t.onClickRight}})],1),t._v(" "),e("div",{staticClass:"hide-wallet yiJianFaBi"},[e("router-link",{staticClass:"item",attrs:{tag:"div",to:"/account/mysendcoin"}},[e("span",[t._v(" "+t._s(t.$t("wallets.yiJianFaBi")))]),t._v(" "),e("van-icon",{staticClass:"arrow",attrs:{name:"arrow"}})],1)],1),t._v(" "),e("div",{staticClass:"hide-wallet zanNeiZhuanZhang"},[e("router-link",{staticClass:"item",attrs:{tag:"div",to:"/wallets/transfer"}},[e("span",[t._v(" "+t._s(t.$t("wallets.zanNeiZhuanZhang")))]),t._v(" "),e("van-icon",{staticClass:"arrow",attrs:{name:"arrow"}})],1)],1),t._v(" "),e("div",{staticClass:"hideAll-wallet"},[e("span",[t._v(t._s(t.$t("wallets.hideMoney")))]),t._v(" "),e("van-switch",{model:{value:t.hideAll,callback:function(a){t.hideAll=a},expression:"hideAll"}})],1),t._v(" "),e("div",{staticClass:"hide-wallet pos-top"},[e("span",[t._v(t._s(t.$t("wallets.hide0Money")))]),t._v(" "),e("van-switch",{model:{value:t.hide,callback:function(a){t.hide=a},expression:"hide"}})],1),t._v(" "),e("div",{staticClass:"list"},[e("wallet-list",{attrs:{hide:t.hide,hideAll:t.hideAll}})],1),t._v(" "),e("wallet-futures")],1)},staticRenderFns:[]};var f=e("VU/8")(h,v,!1,function(t){e("lqxa")},"data-v-28da458c",null);a.default=f.exports},Mxwo:function(t,a){},ZhPz:function(t,a,e){"use strict";a.b=function(){return i.a.get("/qh/enter").then(function(t){return n.a.resolve(t.data)})},a.a=function(){return i.a.post("/qh/base").then(function(t){return n.a.resolve(t.data)})},a.c=function(t){var a=t.amount,e=t.remark,s=void 0===e?"":e;return i.a.post("/qh/rj",{amount:a,remark:s}).then(function(t){return n.a.resolve(t.data)})};var s=e("//Fk"),n=e.n(s),i=e("8Klu")},eFKy:function(t,a){},lqxa:function(t,a){},njCW:function(t,a){}});